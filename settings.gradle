pluginManagement {
    repositories {
        google()
        mavenCentral()
        gradlePluginPortal()
    }
}

dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    repositories {
        google()
        mavenCentral()
        maven { url = uri("https://jitpack.io") }
    }
}

rootProject.name = "AndroidCleaner"
include ':app', ':library-module'

// 添加包名映射
gradle.beforeProject { project ->
    project.ext.packageName = "com.blackharry.androidcleaner"
    project.ext.packagePath = "com/blackharry/androidcleaner"
    
    // 设置源代码路径
    project.ext.sourcePath = "src/main/java"
    project.ext.testSourcePath = "src/test/java"
    project.ext.androidTestSourcePath = "src/androidTest/java"
    
    // 设置包名映射
    project.ext.packageMapping = [
        "app.src.main.java.com.blackharry.androidcleaner" : "com.blackharry.androidcleaner",
        "app.src.test.java.com.blackharry.androidcleaner" : "com.blackharry.androidcleaner",
        "app.src.androidTest.java.com.blackharry.androidcleaner" : "com.blackharry.androidcleaner"
    ]
}